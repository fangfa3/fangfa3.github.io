---
layout: post
title: "每天学点新东西 ———— 三月"
date: 2018-03-11 21:00:00   
categories: 每天学点新东西
tag: LSNE
---
* content
{:toc}

>**新模式说明：每天学习一个新的小技能或是解决一个小问题，花费时间20分钟即可，每天都在这一篇中进行更新。**

<!-- more -->

#### `2018.03.08` EtherCAT

```
当你老了，回顾一生，就会发觉：什么时候出国读书、什么时候决定做第一份职业、何时选定了对象而恋爱、什么时候结婚，其实都是命运的巨变。只是当时站在三岔路口，眼见风云千樯，你作出选择的那一日，在日记上，相当沉闷和平凡，当时还以为是生命中普通的一天。    ----《杀鹌鹑的少女》
```

你认为现在这个选择艰难，不知如何选择，只是因为你希望作出最正确的选择，你不希望多年以后回首，捶手顿足，感慨自己错过了一个那么好的人或事。任何事情都是这样，每件事情都有它让人充满激情与兴趣的一面和不尽如人意的一面。你在纠结某件事，说明它这两面势均力敌。那么往以后想：这个行业固然有很多值得去奋斗的事情，制造业+人工智能很大可能是制造业的未来发展趋势。但是没有天时地利人和。所以，先出去锻炼几年，去看看更大的世界。如果未来有机会，再来闯出一片天。

一步一个脚印，未来的你会感谢现在的自己。既然做，就好好做，不要混时间。

现在实习时，也是一个锻炼自己的机会。采集声发射传感器的数据，处理并上传，处理是可以加入智能化，一个流程做下来，你可以提高很多。所以，你现在做的，短期来看对找工作可能没有什么好处，但对长期发展一定有好处。加油吧！

我个人不能从理论上或者从其他方面证明人工智能是不是泡沫。那谁说过，一件事情有百分之七十成功的可能性，那么就值得尽全力去做。我觉得人工智能是有百分之七十的可能是未来的趋势的。那么就All in，毕竟现在也年轻，没有什么可以失去的。

#### `2018.03.10` C++知识点回顾总结

>头文件，源文件；

>struct与class;

C与C++的区别：C程序的设计思想是面向过程，；C++程序的设计思想是面向对象。C语言编程单位是函数，语句是编程的基本单元；C++语言编程单元是类。由C向C++的设计转变是由以过程设计为中心向以数据组织为中心的转变。

在C语言中，struct只能包含数据，在C++中，struct既能包括数据也能包括函数，与class十分类似。二者的区别在于默认权限访问和继承方式。struct都是public，而class都是private。

>权限

public：数据成员、成员函数对所有用户开放。
private： 数据成员、成员函数仅对自己开放，只有类内部可以使用。
protected：数据成员和成员函数只对自己同一目录下的类调用。

>namespace

namespace:命名空间是可以由用户命名的作用域，用来处理程序中常见的同名冲突。使用方式： `using namespace ***; ***::***;`

std是C++标准命名空间，标准C++库中的所有标识符都在std中定义。

>前端、后端

简单地说，用户能够看到的东西属于前端，支持各种功能运行的属于后端。

#### `2018.03.09` 智能制造

论文阅读：
论文1：基于LabView的数控中小孔内圆磨床监控系统软件设计

       优：着重系统的搭建，包括硬件选型与处理流程。
	   缺：基于LabView；阈值如何选取？
采用声发射检测法。系统硬件配置有AE传感器、前置放大器、数据采集卡等。AE传感器的灵敏度、频率范围、谐振频率等参数关系到系统采集的信号是否有效；前置放大器的放大倍数关系到系统采集到的信号强度大小；数据采集卡的采样频率关系到系统采集的信号是否正确。


磨削AE信号频率范围：现场实际是多少范围？ （100-400kHz）

AE传感器型号：PXR30型，谐振频率为300kHz，频宽为80-400kHz，灵敏度大于60dB。
前置放大器型号：PXPA 2型，频带宽度为15-2MHz，增益为40dB，
数据采集卡型号：NI-PCI 6250型，通道数为16，采样率为1MSPS，采样精度为16bit，通讯方式为PCI。

论文2、利用AE传感器进行砂轮的修整。只介绍了大致的流程，参考意义不大。
论文3、AE在线检测技术在数控修整系统中的应用

优：应用场景与目标场景相同，是Marposs的P3SE在Fanuc系统上的应用。说明应该使用AE传感器。可以学习其使用流程。
       缺：仅有操作流程，无实现原理和方法的具体介绍。

通过一个AE传感器，检测磨床中的砂轮和工件接触时产生的超声波能量。测量方法是机床在进行自动磨削时，砂轮在安全位快进到工进的过程中，根据噪音极限值的设定可以检测到砂轮和工件是否接触；根据噪音极限值的设定可以检测砂轮是否处于一个安全位置；可以根据检测砂轮在修整过程中的声波发射图形来判断砂轮是否完全修好。如果声波图形连续不间断时，可认为此砂轮修整完成。

操作流程：启动砂轮、头架和冷却液，分别进行磨削状态和背景噪音的学习。
         磨削状态的学习：通过手动进行磨削，直至出现火花，60s结束此过程。
         背景噪音的学习：将砂轮离开工件的表面1mm，坚持60s自动结束。
     设置可调整增益：发信过早，减小增益；发信过晚，增加增益。



声发射传感器：

	是什么？	声发射是指材料内部局部区域在外界的影响下，伴随能量快速释放而产生的瞬态弹性波现象。声发射传感器可以把这个声发射弹性波转换为电信号。

	为什么？    声发射是自然界中的一种物理现象，它包含的频率比人耳所能识别的声音频率更宽，从几赫兹到几兆赫兹。并且，声发射技术对于材料断裂现象具有更为良好的应用。更符合磨床砂轮与工件磨削的场景。

	怎么做？    安装位置：需根据磨床具体来确定，固定在磨床坚硬、静止表面。
	            固定：磁夹具：金属表面
					  玻璃胶：非金属
			    防水：可防水
			    采集：AE传感器->前置放大器->采集卡分析：滤波、取平均值
			    	  计算输入信号的均方根值（RMS），提取最大均方根值。
			    	  6阶Butterworth滤波，计算RMS值。  
			    	            

0202.
论文：基于声发射的磨加工在线监测系统关键技术研究（***重点参考，分析详细***）
	
	不同材料加工时产生的声发射信号频率范围也不同。可以设四个不同的频率范围进行选择。


功能：消空程、防碰撞
测试：最终需要设置 接触极限值与碰撞极限值
      因而测试过程需要多次测量记录接触时的信号，以及少数几次碰撞时的信号。

#### `2018.03.08` EtherCAT

EtherCAT（Ethernet for Control Automation Technology）是一种基于以太网的开发构架的实时工业现场总线通讯协议，它于2003年被引入市场，于2007年成为国际标准，并于2014年成为中国国家标准。EtherCAT的出现为系统的实时性能和拓扑的灵活性树立了新的标准。

1）EtherCAT是最快的工业以太网技术之一，同时它提供纳秒级精确同步。相对于设置了相同循环时间的其他总线系统，EtherCAT系统结构通常能减少25%-30%的CPU负载。

2）EtherCAT在网络拓扑结构方面没有任何限制，最多65535个节点可以组成线型、总线型、树型、星型或者任意组合的拓扑结构。

3）相对于传统的现场总线系统，EtherCAT节点地址可被自动设置，无需网络调试，集成的诊断信息可以精确定位到错误。同时无需配置交换机，无需处理复杂的MAC或者IP地址。

4）EtherCAT主站设备无需特殊插卡，从站设备使用可以由多个供应商提供的高集成度、低成本的芯片。

5）利用分布时钟的精确校准EtherCAT提供了有效的同步解决方案，在EtherCAT中，数据交换完全基于纯粹的硬件设备。由于通讯利用了逻辑环网结构和全双工快速以太网而又有实际环网结构，“主站时钟”可以简单而精确地确定对每个“从站时钟”的运行补偿，反之亦然。分布时钟基于该值进行调整，这意味着它可以在网络范围内提供信号抖动很小、非常精确的时钟。

总体来说EtherCAT具有高性能、拓扑结构灵活、应用容易、低成本、高精度设备同步、可选线缆冗余和功能性安全协议、热插拔等特点。